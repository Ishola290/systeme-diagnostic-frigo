# ============================================================
# Configuration du Système de Diagnostic Frigorifique IA
# ============================================================

# ENVIRONNEMENT
ENV=development              # development|production
DEBUG=true
PORT=5000

# ============================================================
# POSTGRESQL DATABASE (IMPORTANT - Nouveau!)
# ============================================================
# URL PostgreSQL - Utiliser pour production (Render, AWS RDS, etc.)
DATABASE_URL=postgresql://frigo_user:frigo_secure_pass_change_me@localhost:5432/chat_app
FLASK_ENV=development

# Paramètres Docker Compose (si utilisation docker-compose-postgres.yml)
DB_USER=frigo_user
DB_PASSWORD=frigo_secure_pass_change_me
DB_NAME=chat_app

# ============================================================
# GOOGLE GEMINI AI - ANALYSE INTELLIGENTE
# ============================================================
# Obtenir la clé API gratuitement sur: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=AIzaSy...VOTRE_CLE_ICI
GEMINI_MODEL=gemini-1.5-flash
GEMINI_TEMPERATURE=0.3       # 0=déterministe, 1=créatif

# ============================================================
# TELEGRAM - NOTIFICATIONS EN TEMPS RÉEL
# ============================================================
# Créer un bot via @BotFather sur Telegram: https://t.me/botfather
TELEGRAM_BOT_TOKEN=8278706239:AAFnCW...VOTRE_TOKEN_ICI
TELEGRAM_CHAT_ID=6607560503  # Ton Chat ID personnel

# Pour obtenir ton Chat ID:
# 1. Envoie un message à ton bot
# 2. Accède à: https://api.telegram.org/bot<TOKEN>/getUpdates
# 3. Copie le chat.id

# ============================================================
# AGENT IA - SERVICE DE PRÉDICTION
# ============================================================
# URL du service Agent IA (peut être sur Render, AWS, Heroku, etc.)
AGENT_IA_URL=https://agent-ia-frigo-tdmm.onrender.com

# ============================================================
# APPRENTISSAGE CONTINU & RÉENTRAÎNEMENT
# ============================================================
# Nombre de diagnostics avant réentraînement du modèle
SEUIL_RETRAINING=1000

# Nombre d'occurrences minimum avant de marquer une panne comme "nouvelle"
SEUIL_NOUVELLE_PANNE=50

# ============================================================
# RÉPERTOIRES ET FICHIERS
# ============================================================
# Répertoire de stockage des données
DATA_DIR=./data

# ============================================================
# SIMULATEUR DE CAPTEURS (TESTS & DÉMO)
# ============================================================
# Activer le simulateur de capteurs
SIMULATEUR_ENABLED=true

# Intervalle entre les diagnostics simulés (secondes)
SIMULATEUR_INTERVAL=30

# Probabilité de panne à chaque cycle (0-1)
# 0.3 = 30% de chance de panne
SIMULATEUR_PROB_PANNE=0.3

# Durée d'une panne simulée (secondes)
SIMULATEUR_DUREE_PANNE=300

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=INFO               # DEBUG|INFO|WARNING|ERROR|CRITICAL
LOG_FILE=diagnostic_frigo.log

# ============================================================
# SEUILS D'ALERTES (OPTIONNEL)
# ============================================================
# Seuil de confiance pour déclencher alerte critique
SEUIL_ALERTE_CRITIQUE=0.85

# Nombre maximum de pannes acceptées par jour
MAX_PANNES_PAR_JOUR=10

# ============================================================
# MONITORING & ALERTES EXTERNES (OPTIONNEL)
# ============================================================
# Slack webhook pour notifications supplémentaires
# SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/HERE

# Discord webhook
# DISCORD_WEBHOOK=https://discord.com/api/webhooks/YOUR/WEBHOOK

# ============================================================
# CONFIGURATION AVANCÉE
# ============================================================
# Timeout pour l'API Agent IA (secondes)
AGENT_IA_TIMEOUT=30

# Nombre maximum de retry pour les requêtes
MAX_RETRIES=3

# ============================================================
# NOTES IMPORTANTES
# ============================================================
# 1. NEVER committer ce fichier avec les vraies clés !
# 2. Copier .env.example vers .env et éditer localement
# 3. Ajouter .env dans .gitignore
# 4. Les clés API sont essentielles pour le fonctionnement

# Probabilité de générer une panne (0.0 à 1.0)
SIMULATEUR_PROB_PANNE=0.3

# ==========================================
# SÉCURITÉ (Optionnel)
# ==========================================
# Clé API pour sécuriser les endpoints
# API_KEY=votre_cle_secrete_ici

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=INFO
LOG_FILE=diagnostic_frigo.log